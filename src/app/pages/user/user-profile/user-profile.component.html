<section class="main-container" *ngIf="auth.user | async as user; else guest">
	<mat-card class="main-card user-card">
		<mat-card-header>
			<h3>{{ user.displayName }}</h3>
		</mat-card-header>
		<mat-card-content>
			<img [src]="user.photoURL" class="user-card__image" alt="avatar">
			<p>email: {{ user.email }}</p>
			<p>UID: {{ user.uid }}</p>
			<p *ngIf="user.favoriteColor">Favorite color: {{ user.favoriteColor }}</p>
		</mat-card-content>
		<mat-card-actions align="end">
			<ng-container *ngIf="!isEdited; else editButtons">
				<button mat-stroked-button color="warn" (click)="afAuth.signOut()">Logout</button>
				<button mat-flat-button color="accent" (click)="startEdit()">Edit</button>
			</ng-container>

			<ng-template #editButtons>
				<button mat-stroked-button color="warn" (click)="cancelEdit()">Cancel</button>
				<button mat-raised-button color="accent" (click)="save()">Save</button>
			</ng-template>
		</mat-card-actions>
	</mat-card>
	<app-become-mentor></app-become-mentor>
</section>

<ng-template #guest>
	<h3>You are currently not logged in.</h3>
	<p>Proceed with login or signup procedure to continue...</p>

	<button mat-raised-button appGoogleSignin>
		<img src="/assets/icons/google-logo.svg"/> with Google
	</button>
</ng-template>
